{"version":3,"sources":["components/BettingSection.js","store.js","components/Horse.js","App.js","index.js"],"names":["timer","timer1","horses","name","distance","maxDist","horseBet","ticker","map","horse","winner","currentDist","Math","round","random","clear","forEach","BettingSection","useState","balance","setBalance","running","setRunning","betHandler","i","socket","emit","clearInterval","setInterval","className","onClick","id","Horse","props","bgcolor","completed","fillerStyles","height","width","backgroundColor","transition","borderRadius","textAlign","style","margin","padding","color","fontWeight","io","connect","on","response","console","log","App","setCompleted","completed1","setCompleted1","completed2","setCompleted2","completed3","setCompleted3","completed4","setCompleted4","completed5","setCompleted5","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6e3fe205.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { socket } from \"../App\";\r\nimport { winner } from \"../App\";\r\nimport { horses } from \"../store\";\r\n\r\n\r\nconst maxStep = 5;\r\nconst maxDist = 100;\r\nlet horseBet = '';\r\nlet timer;\r\nlet timer1;\r\n\r\n\r\nconst randomValue = () => {\r\n  return Math.round(Math.random() * maxStep)\r\n}\r\n\r\nconst winnerValue = () => {\r\n  return Math.round(Math.random() * maxStep + 1)\r\n}\r\n\r\nconst ticker = () => {\r\n  horses.map(horse => {\r\n    if (horse.name === winner) {\r\n      const currentDist = horse.distance += winnerValue();\r\n      horse.distance = maxDist < currentDist ? maxDist : currentDist\r\n    }\r\n    else {\r\n      const currentDist = horse.distance += randomValue();\r\n      horse.distance = maxDist < currentDist ? maxDist : currentDist\r\n    }\r\n  })\r\n}\r\n\r\nconst clear = () => {\r\n  horses.forEach((horse) => {\r\n    horse.distance = 0\r\n  })\r\n}\r\n\r\nconst BettingSection = () => {\r\n  let [balance, setBalance] = useState(100)\r\n  let [running, setRunning] = useState(false)\r\n\r\n  const betHandler = (horse, i) => {\r\n    return () => {\r\n      if (!running) {\r\n        socket.emit('start')\r\n        socket.emit('bet', horse[i].name)\r\n        setRunning(true)\r\n        horseBet = horse[i].name;\r\n        clear()\r\n        timer = setInterval(() => {\r\n          ticker();\r\n        }, 1000);\r\n        timer1 = setInterval(() => {\r\n          if (horse[i].name === winner && horse[i].distance === maxDist) {\r\n            setBalance(balance += 60)\r\n            clearInterval(timer1)\r\n          }\r\n        }, 1000);\r\n        setBalance(balance -= 10)\r\n      }\r\n      else if (running) {\r\n        socket.emit('start')\r\n        socket.emit('bet', horse[i].name)\r\n        horseBet = horse[i].name;\r\n        clearInterval(timer)\r\n        clear();\r\n        timer = setInterval(() => {\r\n          ticker();\r\n        }, 1000);\r\n        timer1 = setInterval(() => {\r\n          if (horse[i].name === winner && horse[i].distance === maxDist) {\r\n            setBalance(balance += 60)\r\n            clearInterval(timer1)\r\n          }\r\n        }, 1000);\r\n        setBalance(balance -= 10)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"betting-section\">\r\n      <p>Betting Section</p>\r\n      <div className=\"balance\">\r\n        <h1>Balance: {balance}</h1>\r\n        <h2>You bet on: {horseBet}</h2>\r\n      </div>\r\n      <div className=\"horse-choice\">\r\n        <div className=\"first-horse\">\r\n          <button onClick={betHandler(horses, 0)} id='first-horse'>Princess Diana</button>\r\n        </div>\r\n        <div className=\"second-horse\">\r\n          <button onClick={betHandler(horses, 1)} id='second-horse'>Cricket</button>\r\n        </div>\r\n        <div className=\"third-horse\">\r\n          <button onClick={betHandler(horses, 2)} id='third-horse'>Rebel</button>\r\n        </div>\r\n        <div className=\"fourth-horse\">\r\n          <button onClick={betHandler(horses, 3)} id='fourth-horse'>Lucy</button>\r\n        </div>\r\n        <div className=\"fivth-horse\">\r\n          <button onClick={betHandler(horses, 4)} id='fivth-horse'>Lacey</button>\r\n        </div>\r\n        <div className=\"sixth-horse\">\r\n          <button onClick={betHandler(horses, 5)} id='sixth-horse'>Ginger</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"Start button\">\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BettingSection;\r\n","export let horses = [\r\n    {\r\n      name: 'Princess Diana',\r\n      distance: 0\r\n    },\r\n    {\r\n      name: 'Cricket',\r\n      distance: 0\r\n    },\r\n    {\r\n      name: 'Rebel',\r\n      distance: 0\r\n    },\r\n    {\r\n      name: 'Lucy',\r\n      distance: 0\r\n    },\r\n    {\r\n      name: 'Lacey',\r\n      distance: 0\r\n    },\r\n    {\r\n      name: 'Ginger',\r\n      distance: 0\r\n    },\r\n  ];","import React from \"react\";\r\n\r\nconst Horse = (props) => {\r\n    const {bgcolor, completed} = props;\r\n\r\n    const containerStyles = {  \r\n      height: 20,\r\n      width: '100%',\r\n      backgroundColor: \"#e0e0de\",\r\n      borderRadius: 50,\r\n      margin: 0\r\n    }\r\n  \r\n    const fillerStyles = {  \r\n      height: '100%',\r\n      width: `${completed}%`,\r\n      backgroundColor: bgcolor,\r\n      transition: 'width 1s ease-in-out',\r\n      borderRadius: 'inherit',\r\n      textAlign: 'right'\r\n    }\r\n  \r\n    const labelStyles = {\r\n      padding: 5,\r\n      color: 'white',\r\n      fontWeight: 'bold'\r\n    }\r\n  \r\n    return (\r\n      <div style={containerStyles}>\r\n        <div style={fillerStyles}>\r\n          <span style={labelStyles}>{`${completed}%`}</span>\r\n        </div>\r\n        <div className=\"test\">\r\n        </div>\r\n      </div>\r\n    );                  \r\n  };\r\n  \r\n  export default Horse;","import React, { useEffect, useState } from 'react';\nimport { io } from 'socket.io-client'\nimport BettingSection from './components/BettingSection';\nimport { horses } from './store';\nimport Horse from './components/Horse';\nexport const socket = io.connect('http://localhost:3002')\nexport let winner = '';\n\nsocket.on('winner', function (response) {\n  winner = response.name;\n  console.log(`W: ${winner}`);\n})\n\n\n\n\n\nconst App = () => {\n\n  let [completed, setCompleted] = useState(0)\n  let [completed1, setCompleted1] = useState(0)\n  let [completed2, setCompleted2] = useState(0)\n  let [completed3, setCompleted3] = useState(0)\n  let [completed4, setCompleted4] = useState(0)\n  let [completed5, setCompleted5] = useState(0)\n\n  useEffect(() => {\n    setInterval(() => {\n      setCompleted(completed = horses[0].distance)\n    }, 100);\n  }, [])\n\n  useEffect(() => {\n    setInterval(() => {\n      setCompleted1(completed1 = horses[1].distance)\n    }, 100);\n  }, [])\n\n  useEffect(() => {\n    setInterval(() => {\n      setCompleted2(completed2 = horses[2].distance)\n    }, 100);\n  }, [])\n\n  useEffect(() => {\n    setInterval(() => {\n      setCompleted3(completed3 = horses[3].distance)\n    }, 100);\n  }, [])\n\n  useEffect(() => {\n    setInterval(() => {\n      setCompleted4(completed4 = horses[4].distance)\n    }, 100);\n  }, [])\n\n  useEffect(() => {\n    setInterval(() => {\n      setCompleted5(completed5 = horses[5].distance)\n    }, 100);\n  }, [])\n\n\n\n  return (\n    <div className=\"App\">\n      <Horse bgcolor={\"#fa93a8\"} completed={completed} />\n      <br></br>\n      <Horse bgcolor={\"#4287f5\"} completed={completed1} />\n      <br></br>\n      <Horse bgcolor={\"#7c89c4\"} completed={completed2} />\n      <br></br>\n      <Horse bgcolor={\"#f099cc\"} completed={completed3} />\n      <br></br>\n      <Horse bgcolor={\"#aefcb9\"} completed={completed4} />\n      <br></br>\n      <Horse bgcolor={\"#eb4034\"} completed={completed5} />\n      <br></br>\n      <BettingSection />\n    </div>\n  )\n}\n\n\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}